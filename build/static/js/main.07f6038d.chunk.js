(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(e,t,a){e.exports=a(38)},27:function(e,t,a){},29:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var n,r=a(0),i=a.n(r),o=a(17),c=a.n(o),s=(a(27),a(20)),l=a(1),u=a(18),m=a(7),p=a(8),d=a(10),h=a(9),g={currency:[{id:"pointFive",amount:.5,imageUrl:"https://en.numista.com/catalogue/photos/danemark/g915.jpg",size:.65},{id:"one",amount:1,imageUrl:"https://en.numista.com/catalogue/photos/danemark/g798.jpg",size:.6},{id:"two",amount:2,imageUrl:"https://en.numista.com/catalogue/photos/danemark/g796.jpg",size:.75},{id:"five",amount:5,imageUrl:"https://en.numista.com/catalogue/photos/danemark/g1429.jpg",size:1},{id:"ten",amount:10,imageUrl:"https://en.numista.com/catalogue/photos/danemark/g790.jpg",size:.7},{id:"twenty",amount:20,imageUrl:"https://en.numista.com/catalogue/photos/danemark/g788.jpg",size:.9}]},f=a(19),v=a.n(f);a(29);!function(e){e[e.Add=0]="Add",e[e.Subtract=1]="Subtract"}(n||(n={}));var E=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var r;Object(m.a)(this,a),(r=t.call(this,e)).IncrementUnit=function(e){r.UpdateCount(e.target,n.Add)},r.DecrementUnit=function(e){r.UpdateCount(e.target,n.Subtract)},r.SaveCount=function(){localStorage.setItem("units",JSON.stringify(r.state.units)),localStorage.setItem("total",JSON.stringify(r.state.total))},r.UpdateCount=function(e,t){var a=e.closest(".coinWrapper").id,i=r.state.units[a]?r.state.units[a].count:0;t===n.Add?i++:i--,i<=0&&(i=0),r.setState({units:v()(r.state.units,Object(u.a)({},a,{count:{$set:i}}))},function(){return r.UpdateTotal()})},r.UpdateTotal=function(){var e=r.GetTotal();r.setState({total:e})},r.GetTotal=function(){var e=0;for(var t in r.state.units)r.state.units.hasOwnProperty(t)&&(e+=r.state.units[t].amount*r.state.units[t].count);return e};var i=localStorage.getItem("units")||"{}",o=JSON.parse(i);return 0===Object.keys(o).length&&g.currency.forEach(function(e){o[e.id]={amount:e.amount,count:0}}),r.state={total:JSON.parse(localStorage.getItem("total")||""),storedUnits:o,units:o},r}return Object(p.a)(a,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{id:"counterScene"},i.a.createElement("a",{href:"/",className:"close"},"X"),i.a.createElement("ol",{id:"coins"},g.currency.map(function(t){return i.a.createElement("li",{className:"coinWrapper",id:t.id,key:t.id},i.a.createElement("span",{className:"coinSubtract",onClick:e.DecrementUnit},"-"),i.a.createElement("span",{className:"coinAdd",onClick:e.IncrementUnit},"+"),i.a.createElement("span",{className:"count",style:{visibility:e.state.units[t.id]&&e.state.units[t.id].count>0?"visible":"hidden"}},e.state.units[t.id]?e.state.units[t.id].count:0),i.a.createElement("div",{className:"coin",style:{backgroundImage:"url("+t.imageUrl+")",width:e.GetCoinSize(t.size)+"rem",height:e.GetCoinSize(t.size)+"rem",right:e.GetCoinSize(t.size)/2-.5+"rem"},onClick:e.IncrementUnit}))})),i.a.createElement("div",{id:"footer"},i.a.createElement("span",{id:"result"},i.a.createElement("span",{"aria-label":"user icon",role:"img"},"\ud83d\udc78 ",this.state.total," kr")),i.a.createElement("button",{id:"save",onClick:this.SaveCount},i.a.createElement("span",{"aria-label":"save",role:"img"},"\u2714\ufe0f"))))}},{key:"GetCoinSize",value:function(e){return 10*e}}]),a}(r.Component),b=(a(30),function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).FocusPurchase=function(){document.getElementById("purchase").focus()},n.SavePrice=function(){var e=document.getElementById("purchase"),t=e.value?parseFloat(e.value.replace(",",".")):0;n.setState({price:t})},n.GetCoins=function(){var e=[[],[]],t=0,a=1,r=n.state.total,o=n.state.price;o>r&&(r=n.state.price,o=n.state.total,t=1,a=0);for(var c=20,s=.2*(o/r*100);c>=0;)c<=s&&e[a].push(i.a.createElement("li",{key:"one_"+c})),e[t].push(i.a.createElement("li",{key:"two_"+c})),c--;return i.a.createElement("div",{className:"coinStack"},i.a.createElement("ol",null,e[0].map(function(e){return e})),i.a.createElement("ol",{className:"price"},e[1].map(function(e){return e})))},n.state={total:JSON.parse(localStorage.getItem("total")||""),price:0},n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.FocusPurchase()}},{key:"render",value:function(){return i.a.createElement("div",{id:"buyScene"},i.a.createElement("a",{href:"/",className:"close"},"X"),this.GetCoins(),i.a.createElement("div",{id:"footer",className:this.state.total>=this.state.price?"":"error"},i.a.createElement("span",{id:"userIcon","aria-label":"user icon",role:"img"},"\ud83d\udc78 ",this.state.total," kr"),i.a.createElement("span",{id:"result"}),i.a.createElement("input",{type:"text",name:"purchase",id:"purchase",onKeyUp:this.SavePrice}),i.a.createElement("span",{id:"purchaseIcon","aria-label":"input purchase price",role:"img",onClick:this.FocusPurchase},"\ud83d\uded2")))}}]),a}(r.Component)),k=(a(31),function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={total:JSON.parse(localStorage.getItem("total")||"")},n}return Object(p.a)(a,[{key:"render",value:function(){return i.a.createElement("div",{id:"homeScene"},i.a.createElement("div",{className:"sceneLinks"},i.a.createElement("a",{className:"sceneLink",href:"/count"},i.a.createElement("span",{"aria-label":"Count your coins",role:"img"},"\ud83d\udc5b"),"T\xe6l"),i.a.createElement("a",{className:"sceneLink",href:"/buy"},i.a.createElement("span",{"aria-label":"check a price",role:"img"},"\ud83d\uded2"),"k\xf8b")),i.a.createElement("div",{id:"footer"},i.a.createElement("span",{id:"result"},i.a.createElement("span",{"aria-label":"user icon",role:"img"},"\ud83d\udc78 ",this.state.total," kr"))))}}]),a}(r.Component));a(32);var S=function(){return i.a.createElement(s.a,null,i.a.createElement(l.a,{exact:!0,path:"/",component:k}),i.a.createElement(l.a,{path:"/count",component:E}),i.a.createElement(l.a,{path:"/buy",component:b}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(i.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[22,1,2]]]);
//# sourceMappingURL=main.07f6038d.chunk.js.map